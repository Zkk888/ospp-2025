[loggers]
keys=root,eulermaker,aiodocker,aiohttp,websockets

[handlers]
keys=consoleHandler,fileHandler,errorFileHandler

[formatters]
keys=standardFormatter,jsonFormatter,detailedFormatter

# Loggers configuration
[logger_root]
level=INFO
handlers=consoleHandler,fileHandler

[logger_eulermaker]
level=DEBUG
handlers=consoleHandler,fileHandler,errorFileHandler
qualname=eulermaker
propagate=0

[logger_aiodocker]
level=WARNING
handlers=consoleHandler,fileHandler
qualname=aiodocker
propagate=0

[logger_aiohttp]
level=WARNING
handlers=consoleHandler,fileHandler
qualname=aiohttp
propagate=0

[logger_websockets]
level=INFO
handlers=consoleHandler,fileHandler
qualname=websockets
propagate=0

# Handlers configuration
[handler_consoleHandler]
class=StreamHandler
level=INFO
formatter=standardFormatter
args=(sys.stdout,)

[handler_fileHandler]
class=handlers.RotatingFileHandler
level=DEBUG
formatter=jsonFormatter
args=('logs/eulermaker.log', 'a', 100*1024*1024, 5, 'utf-8')

[handler_errorFileHandler]
class=handlers.RotatingFileHandler
level=ERROR
formatter=detailedFormatter
args=('logs/eulermaker-error.log', 'a', 50*1024*1024, 3, 'utf-8')

# Formatters configuration
[formatter_standardFormatter]
format=%(asctime)s - %(name)s - %(levelname)s - %(message)s
datefmt=%Y-%m-%d %H:%M:%S

[formatter_jsonFormatter]
format={"timestamp": "%(asctime)s", "level": "%(levelname)s", "logger": "%(name)s", "module": "%(module)s", "function": "%(funcName)s", "line": %(lineno)d, "message": "%(message)s", "process": %(process)d, "thread": %(thread)d}
datefmt=%Y-%m-%dT%H:%M:%S

[formatter_detailedFormatter]
format=%(asctime)s - %(name)s - %(levelname)s - [%(filename)s:%(lineno)d] - %(funcName)s() - %(message)s
datefmt=%Y-%m-%d %H:%M:%S

# Additional configuration for specific modules
# Docker API logging
[logger_docker.api]
level=WARNING
handlers=fileHandler
qualname=docker.api
propagate=0

# Container operations logging
[logger_eulermaker.core.container]
level=DEBUG
handlers=consoleHandler,fileHandler
qualname=eulermaker.core.container
propagate=0

# Build operations logging
[logger_eulermaker.core.build]
level=DEBUG
handlers=consoleHandler,fileHandler
qualname=eulermaker.core.build
propagate=0

# API operations logging
[logger_eulermaker.api]
level=DEBUG
handlers=consoleHandler,fileHandler
qualname=eulermaker.api
propagate=0

# WebSocket logging
[logger_eulermaker.api.websocket]
level=INFO
handlers=consoleHandler,fileHandler
qualname=eulermaker.api.websocket
propagate=0

# Probe logging
[logger_eulermaker.core.probe]
level=INFO
handlers=consoleHandler,fileHandler
qualname=eulermaker.core.probe
propagate=0

# Performance logging
[logger_eulermaker.performance]
level=INFO
handlers=fileHandler
qualname=eulermaker.performance
propagate=0

#  Security logging
[logger_eulermaker.security]
level=WARNING
handlers=consoleHandler,fileHandler,errorFileHandler
qualname=eulermaker.security
propagate=0